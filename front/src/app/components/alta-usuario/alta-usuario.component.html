<button class="btn btn-dark mt-2 mr-2" [routerLink]="['/inicio-sesion']">Atrás</button>

<div class="container-md pt-5" id="contenedor" style="margin-bottom: 45px;">
    <div class="card">
        <div class="card-body">
            <h3 class="mb-4">Registrarse</h3>
            <form [formGroup]="formulario" (ngSubmit)="enviarFormulario()">
                <fieldset [disabled]="deshabilitar">
                    <div class="form-row row justify-content-md-center">
                        <div class="col mt-3">
                            <label for="nombres">Nombre(s)</label>
                            <input type="text" [(ngModel)]="name" formControlName="nombre" class="form-control"
                                id="nombres" />
                        </div>
                    </div>

                    <div class="form-row row justify-content-md-center">
                        <div class="col mt-3">
                            <label for="apepat">Apellido Paterno</label>
                            <input type="text" [(ngModel)]="apepat" formControlName="appat" class="form-control"
                                id="apepat" />
                        </div>
                        <div class="col mt-3">
                            <label for="apemat">Apellido Materno</label>
                            <input type="text" [(ngModel)]="apemat" formControlName="apmat" class="form-control"
                                id="apemat" />
                        </div>
                    </div>

                    <div class="form-row row justify-content-md-center">
                        <div class="col mt-3">
                            <label for="correo">Correo Electrónico</label>
                            <input type="email" [(ngModel)]="email" formControlName="correo" class="form-control"
                                id="correo" placeholder="nombre@ejemplo.com" />
                        </div>
                    </div>

                    <div class="form-row row justify-content-md-center">
                        <div class="col mt-3">
                            <label for="customFileLang">Inserta una Fotografía</label>
                            <input type="file" class="custom-file-input" id="customFileLang" lang="es"
                                formControlName="select_img" class="form-control"
                                [ngClass]="{'is-invalid': f.select_img.errors}"
                                accept="image/x-png,image/gif,image/jpeg" (change)="fileChange($event)">
                            <div *ngIf="f.select_img.errors" class="invalid-feedback">
                                <div *ngIf="f.select_img.errors.required">Por favor ingrese una imagen</div>
                            </div>
                        </div>
                    </div>

                    <div class="form-row row justify-content-md-center">
                        <div class="col mt-3">
                            <label for="inputPassword1">Nueva Contraseña</label>
                            <div class="input-group">
                                <input ID="txtPassword1" [(ngModel)]="pwd1" formControlName="cont1"
                                    [type]="globals.passwordNueva1" Class="form-control">
                                <div class="input-group-append">
                                    <button type="button" id="show_password1" (click)="showPassword1()"
                                        class="btn btn-primary"> <span class="fa fa-eye-slash icon"></span> </button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="form-row row justify-content-md-center">
                        <div class="col mt-3">
                            <label for="inputPassword2">Ingrese De Nuevo Su Contraseña</label>
                            <div class="input-group">
                                <input ID="inputPassword2" [(ngModel)]="pwd2" formControlName="cont2"
                                    [type]="globals.passwordNueva2" Class="form-control">
                                <div class="input-group-append">
                                    <button type="button" id="show_password2" (click)="showPassword2()"
                                        class="btn btn-primary"> <span class="fa fa-eye-slash icon"></span> </button>
                                </div>
                            </div>

                        </div>
                    </div>

                    <div class="form-row row justify-content-md-center">
                        <div class="col mt-3">
                            <label for="empresaSelect">Seleccione una empresa de trabajo</label>
                            <select [(ngModel)]="empresa" formControlName="company" class="custom-select"
                                id="empresaSelect">
                                <option *ngFor="let comp of empresas;" [value]="comp.id">{{ comp.razon_social }}
                                </option>
                            </select>
                        </div>
                    </div>
                </fieldset>
                <div class="col mt-3 text-center">
                    <button type="button" class="btn btn-outline-secondary" (click)="agregarEmpresa()">Agregar
                        Nueva Empresa</button>
                </div>
                <div *ngIf="nuevaEmpresa">
                    <form [formGroup]="this.empresa_form" (submit)="enviarEmpresa()">
                        <div class="form-row row justify-content-md-center">
                            <div class="col mt-3">
                                <label for="nombreEmpresa">Nombre De La Empresa</label>
                                <input formControlName="nombre" type="text" class="form-control" id="nombreEmpresa" />
                            </div>
                        </div>

                        <div class="form-row row justify-content-md-center">
                            <div class="col mt-3">
                                <label for="razSocial">Razon Social</label>
                                <input formControlName="razsoc" type="text" class="form-control" id="razSocial" />
                            </div>
                        </div>

                        <button class="btn btn-success mt-3" type="submit">Enviar</button>
                    </form>
                </div>

                <ng-template #noNuevaEmpresa>

                </ng-template>
                <div class="card-footer text-center mt-3">
                    <button [disabled]="!this.formulario.valid" type="submit" class="btn btn-primary mr-3">Terminar
                        Registro</button>
                </div>
            </form>
        </div>
    </div>
</div>